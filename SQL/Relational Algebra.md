### 관계 대수란?
>관계 대수는 관계형 데이터베이스에 데이터를 조작하고 추출하는 데 사용되는 연산들의 집합이다. 이 연산들은 테이블 위에서 수행되며, 결과로 새로운 관계를 생성한다.
- 릴레이션들을 다루는 연산들
- 검색 요구(질의)를 기술하는 데에 사용된다.
- 질의 결과도 릴레이션이다.

### SELECT 연산
- [[SELECT 연산]]은 테이블에서 특정 조건을 만족하는 튜플(행)을 선택한다.
- σ<sub>조건</sub>​(R) 과 같이 표기한다.
- **조건 $C$는 $R$과 동일한 애트리뷰트들을 가진다.**
- 테이블 `Students`에서 나이가 20인 학생들을 선택하려면: σ<sub>age</sub>=20($Students$)
![[CleanShot 2023-10-04 at 15.29.17@2x.png]]
### PROJECT 연산
- [[PROJECT 연산]]은 테이블에서 특정 속성(열: attributes)만을 선택한다.
- π<sub>속성목록</sub>​(R) 과 같이 표기한다.
- **결과 릴레이션은 $L$에 명시된 $R$의 애트리뷰트들만 가진다.**
![[CleanShot 2023-10-04 at 15.43.10@2x.png]]
- **PROJECT 연산은 결과 릴레이션이 수학적 집합이므로 중복된 튜플을 제거한다.**
![[CleanShot 2023-10-04 at 15.44.59@2x.png]]
	Salary가 1,000,000원인 남자 사원들이 여러명이더라도 결과 릴레이션에는 단지 하나의 <$M$, 1000000> 튜플만 포함된다.
- 테이블 `Students`에서 이름과 나이만 선택하려면: π<sub>name,age</sub>($Students$)
>**SELECT 연산과 PROJECT 연산은 단항 관계 연산이다,**
### 연산의 순서와 이름 변경 연산
- 다수의 연산을 결합하여 관계 대수식을 형성할 수 있다.
	- 예) 부서 4에서 일하는 사원들의 이름과 봉급을 검색하라.
		![[CleanShot 2023-10-04 at 15.47.36@2x.png]]
>**SELECT, PROJECT 연산끼리의 교환법칙이 성립하는가?**
>교환법칙은 일반적으로 모든 연산에 대해 성립하지 않습니다. 그러나 `SELECT`와 `PROJECT` 연산에 대해서는 특별한 경우에 교환법칙이 성립할 수 있습니다.
`σ` (SELECT) 연산과 `π` (PROJECT) 연산의 순서를 바꾸는 것이 항상 가능한 것은 아닙니다. 그러나 주어진 예제와 같은 특정 상황에서는 가능합니다.
예를 들어, `πname,salary(Employees)` 연산은 `Employees` 테이블에서 `name`과 `salary` 열만을 선택합니다. 이후에 `σdepartment_id=4` 연산을 적용하면, 결과 테이블에서 `department_id` 속성이 없기 때문에 해당 연산을 수행할 수 없습니다.
그러나 원래의 질문에서는 `σdepartment_id=4`를 먼저 적용하고 그 결과에 `πname,salary`를 적용하는 것이 올바른 순서입니다.
따라서, 일반적으로 `SELECT`와 `PROJECT` 연산의 순서를 바꾸는 것은 권장되지 않습니다. 그러나 연산의 순서를 바꿔도 동일한 결과를 얻을 수 있는 경우도 있기 때문에, 상황에 따라 연산의 순서를 바꾸는 것이 최적화에 도움이 될 수 있습니다.
- 각 중간 단계의 임시 릴레이션에 이름을 부여할 수도 있다.
	![[CleanShot 2023-10-04 at 15.48.00@2x.png]]
- 결과 릴레이션의 애트리뷰트 이름은 재명명 할 수도 있다.
	![[CleanShot 2023-10-04 at 15.48.26@2x.png]]
### 합집합, 교집합, 차집합 연산
- **합집합(UNION)**
	- $R∪S$
	- 두 테이블의 합집합을 반환한다.
- **교집합(INTERSECT)**
	- $R∩S$
	- 두 테이블의 교집합을 반환한다.
- **차집합(SET DIFFERENCE)**
	- $R−S$
	- 한 테이블에서 다른 테이블의 튜플을 제외한 결과를 반환한다.
>합집합, 교집합, 차집합 연산을 수행할 때, 피연산자 $R1$, $R2$에는 몇가지 제약 조건이 있다,
>이 제약 조건들을 통해 연산이 의미있고, 일관성 있게 수행되도록 한다.
>
> 1. **애트리뷰트들의 개수가 동일**
> 	$R1$​과 $R2$​의 애트리뷰트(열) 수가 동일해야 한다. 이는 두 릴레이션의 구조가 동일해야 합집합, 교집합, 차집합 연산이 가능하다는 것을 의믜함.
> 2. **대응되는 애트리뷰트들의 도메인이 호환성이 있어야 함.**
> 	대응되는 애트리뷰트, 즉 같은 위치에 있는 열들의 데이터 타입이 같거나 호환 가능해야 한다. 예를 들어, $R1$​의 첫 번째 애트리뷰트가 정수 타입이라면, $R2$​의 첫 번째 애트리뷰트도 정수 타입이어야 한다.
#### 예제:
릴레이션 \( $R1$ \):

| A | B |
|---|---|
| 1 | 2 |
| 3 | 4 |

릴레이션 \( $R2$ \):

| A | B |
|---|---|
| 5 | 6 |
| 7 | 8 |

위의 두 릴레이션은 애트리뷰트 수가 동일하며, 대응되는 애트리뷰트의 도메인(데이터 타입)도 동일합니다. 따라서 합집합, 교집합, 차집합 연산을 수행할 수 있다.
### 카티션 곱 연산
![[Pasted image 20231004164515.png]]
- 카티션 곱, 또는 카티션 프로덕트는 두 릴레이션의 모든 가능한 튜플 조합을 생성하는 연산이다. 만약 릴레이션 $R1$에 $m$개의 튜플이 있고, 릴레이션 $R2$에 $n$개의 튜플이 있다면, 두 릴레이션의 카티션 곱 결과는 $m * n$개의 튜플을 가진다.
- **카티션 프로덕트의 의미**
	- 카티션 프로젝트는 그 자체로는 큰 의미가 없음.
		- 두 릴레이션 간의 모든 가능한 조합을 생성하기 때문에, 대부분의 경우 그 결과는 원하는 정보와 관련이 없을 수 있기 때문이다.
	- 그러나, `SELECT` 연산과 함께 사용될 때, 두 릴레이션에서 서로 관련이 있는 튜플만을 선택하여 의미 있는 결과를 생성할 수 있다,
### 이항 관계 연산
### JOIN 연산
- [[JOIN 연산]]
