### 타임리프 특징

*   서버 사이드 HTML 렌더링(SSR)
    *   타임리프는 백엔드 서버에서 HTML을 동적으로 렌더링 하는 용도로 사용된다.
*   네츄럴 템플릿
    *   타임리프는 순수 HTML을 최대한 유지하는 특징이 있음.
    *   타임리프로 작성한 파일은 HTML을 유지하기 때문에 웹 브라우저에서 파일을 직접 열어도 내용을 확인할 수 있고, 서버를 통해 뷰 템플릿을 거치면 동적으로 변경된 결과를 확인할 수 있다.
        *   **JSP와의 차이점**
*   스프링 통합 지원
    *   타임리프는 스프링과 자연스럽게 통합되고, 스프링의 다양한 기능을 편리하게 사용할 수 있게 지원한다.

# 타임리프 기본 기능

*   **타임리프 사용 선언**
    `<html xmlns:th=”<http://www.thymeleaf.org>”>`
    
*   **기본 표현식**
    Thymeleaf의 기본 표현식은 템플릿 엔진에서 변수, 속성, 반복, 조건문 등을 사용하여 데이터를 처리하고 수정하는 데 사용됩니다. 다음은 몇 가지 일반적인 기본 표현식의 사용 예시입니다:
    
    1.  변수 표현식: `${expression}` 형식을 사용하여 서버 사이드 변수를 출력할 수 있습니다. 예를 들어, `${user.name}`은 `user` 객체의 `name` 항목을 출력합니다.
    2.  메시지 표현식: `#{messageKey}`를 사용하여 언어별 메시지를 출력할 수 있습니다. 예를 들어, `#{welcome.message}`는 `welcome.message` 키에 대한 다국어 메시지를 출력합니다.
    3.  반복문: `th:each` 표현식을 사용하여 컬렉션을 반복하고 각 요소에 대한 작업을 수행할 수 있습니다. 예를 들어, `<li th:each="item : ${items}">`은 `items` 컬렉션의 각 요소를 반복하여 리스트 아이템을 생성합니다.
    4.  조건문: `th:if`, `th:unless`, `th:switch`, `th:case` 등의 표현식을 사용하여 조건에 따라 템플릿의 일부를 표시하거나 숨길 수 있습니다. 예를 들어, `<div th:if="${showDiv}">`은 `showDiv` 변수가 true인 경우에만 해당 div를 표시합니다.
    5.  속성 설정: `th:attr` 표현식을 사용하여 HTML 태그의 속성을 동적으로 설정할 수 있습니다. 예를 들어, `<a th:href="@{/path}" th:attr="target=_blank">`는 `href` 속성을 `/path`로 설정하고, `target` 속성을 `_blank`로 설정합니다.
    
    기본 표현식을 사용하여 Thymeleaf 템플릿은 서버 사이드 데이터를 효과적으로 처리하고 HTML 페이지를 동적으로 렌더링할 수 있습니다.

## 텍스트 - text, utext
타임리프는 기본적으로 HTML 태그의 속성에 기능을 정의해서 동작한다. HTML의 콘텐츠에 데이터를 출력할 때는 다음과 같이 `th:text`를 사용한다.
*   `<span th:text=”${data}”>`
HTML 태그의 속성이 아니라 HTML콘텐츠 영역에서 직접 데이터를 출력하고 싶으면 다음과 같이 `[[...]]` 를 사용하면 된다.
*   `컨텐츠 안에서 직접 출력하기 = [[${data}]]`
## Escape
HTML 문서는 `<`, `>` 같은 특수 문자 기반으로 정의된다. 따라서 뷰 템플릿으로 HTML 화면을 생성할 때는 출력하는 데이터에 이러한 특수 문자가 있는 것을 주의해서 사용해야 한다.
### HTML 엔티티
웹 브라우저는 < 를 HTML 태그의 시작으로 인식한다. 따라서 < 를 태그의 시작이 아니라 문자로 표현할 수 있는 방법이 필요한데, 이것을 HTML 엔티티라고 한다.
*   그리고 이렇게 HTML에서 사용하는 특수 문자를 HTML 엔티티로 변경하는 것을 이스케이프라고 한다.
    *   `th:text`, `[[…]]`
### Unescape
타임리프에서 이스케이프 기능을 사용하지 않으려면 다음의 방법을 사용한다.
*   `th:text` → `th:utext`
*   `[[…]]` → `[(…)]`
> 실제 서비스를 개발하다 보면 escape를 사용하지 않아서 HTML이 정상 렌더링 되지 않는 문제들이 발생한다. 따라서 escape를 기본으로 하고, 필요할 때만 unescape를 사용한다.